Function.prototype.bind=function(){if(arguments.length<2&&typeof arguments[0]=="undefined")return this;for(var a=arguments.length||0,b=Array(a);a--;)b[a]=arguments[a];var c=this,d=b.shift();return function(){return c.apply(d,b.concat(b))}},window.Ajax=function(){var Req=function(url,opt){var o={method:"post",asynchronous:!0,contentType:"application/x-www-form-urlencoded",encoding:"UTF-8",parameters:"",evalJSON:!0,evalJS:!0},op=opt||{};for(var prop in op)o[prop]=op[prop];o.method=o.method.toLowerCase();var _c=!1;this.req=function(a){var b=a,c=o.parameters===""?{}:o.parameters;o.method!=="get"&&o.method!=="post"&&(c._method=o.method,o.method="post");var d=[];for(var e in c){var f=encodeURIComponent(e),g=encodeURIComponent(c[e]);g&&typeof g!="object"&&d.push([f,g].join("="))}var h=d.join("&");h&&(o.method==="get"?b+=(b.indexOf("?")>-1?"&":"?")+h:/Konqueror|Safari|KHTML/.test(navigator.userAgent)&&(h+="&_="));try{var i=new Res(this);o.onCreate&&o.onCreate(i),t.open(o.method.toUpperCase(),b,o.asynchronous);if(o.asynchronous){var j=this.rs.bind(this);setTimeout(function(){j()},1)}t.onreadystatechange=this.sc.bind(this),sh();var k=o.method==="post"?o.postBody||h:null;t.send(k),!o.asynchronous&&t.overrideMimeType&&this.sc()}catch(l){}},this.sc=function(){var a=t.readyState;a>1&&(a!==4||!_c)&&this.rs(t.readyState)};var sh=function(){var a={"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*"};o.method==="post"&&(a["Content-type"]=o.contentType+(o.encoding?"; charset="+o.encoding:""));for(var b in a)t.setRequestHeader(b,a[b])},ok=function(){var a=st();return!a||a>=200&&a<300},st=this.st=function(){try{return t.status||0}catch(a){return 0}};this.e=["Uninitialized","Loading","Loaded","Interactive","Complete"],this.rs=function(a){var b=this.e[a],c=new Res(this);if(b==="Complete"){try{_c=!0,(o["on"+c.st]||function(){})(c,null)}catch(d){}var e=c.mime(),f=o.evalJS,g=e&&e.match(/^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$/i);f&&g&&er()}try{(o["on"+b]||function(){})(c,null)}catch(h){}};var er=function(){try{return eval(t.responseText||"")}catch(e){return nil}},t=this.t=this.transport=function(){return new XMLHttpRequest}();this.req(url);return this},Res=function(a){this.st=0,this.request=a,this.mime=function(){return this.t.getResponseHeader("Content-type")||""};var b=this.t=a.t,c=b.readyState;if(c>2||c===4)this.st=a.st(),this.responseText=b.responseText===null?"":b.responseText;return this};return{Request:Req,Response:Res}}()